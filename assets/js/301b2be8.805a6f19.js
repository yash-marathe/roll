"use strict";(self.webpackChunkdocs_roll=self.webpackChunkdocs_roll||[]).push([[5800],{5427:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>g,contentTitle:()=>t,default:()=>N,frontMatter:()=>i,metadata:()=>p,toc:()=>m});var l=a(8168),r=(a(6540),a(5680));const i={},t="RLVR \u6d41\u6c34\u7ebf",p={unversionedId:"\u7b80\u4f53\u4e2d\u6587/\u4f7f\u7528\u6307\u5357/pipeline/rlvr_pipeline_start",id:"\u7b80\u4f53\u4e2d\u6587/\u4f7f\u7528\u6307\u5357/pipeline/rlvr_pipeline_start",title:"RLVR \u6d41\u6c34\u7ebf",description:"\u76ee\u5f55",source:"@site/docs/\u7b80\u4f53\u4e2d\u6587/\u4f7f\u7528\u6307\u5357/pipeline/rlvr_pipeline_start.md",sourceDirName:"\u7b80\u4f53\u4e2d\u6587/\u4f7f\u7528\u6307\u5357/pipeline",slug:"/\u7b80\u4f53\u4e2d\u6587/\u4f7f\u7528\u6307\u5357/pipeline/rlvr_pipeline_start",permalink:"/ROLL/docs/\u7b80\u4f53\u4e2d\u6587/\u4f7f\u7528\u6307\u5357/pipeline/rlvr_pipeline_start",draft:!1,editUrl:"https://github.com/alibaba/ROLL/tree/main/docs_roll/docs/\u7b80\u4f53\u4e2d\u6587/\u4f7f\u7528\u6307\u5357/pipeline/rlvr_pipeline_start.md",tags:[],version:"current",lastUpdatedAt:1756102296,formattedLastUpdatedAt:"Aug 25, 2025",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"DPOPipeline Quick Start",permalink:"/ROLL/docs/\u7b80\u4f53\u4e2d\u6587/\u4f7f\u7528\u6307\u5357/pipeline/dpo_pipeline_start"},next:{title:"SFTPipeline Quick Start",permalink:"/ROLL/docs/\u7b80\u4f53\u4e2d\u6587/\u4f7f\u7528\u6307\u5357/pipeline/sft_pipeline_start"}},g={},m=[{value:"\u2728\ufe0f\u6982\u8ff0",id:"\ufe0f\u6982\u8ff0",level:2},{value:"\u2728\ufe0f\u6838\u5fc3\u7ec4\u4ef6",id:"\ufe0f\u6838\u5fc3\u7ec4\u4ef6",level:2},{value:"\u4e3b\u6a21\u5757 (<code>RLVRPipeline</code>)",id:"\u4e3b\u6a21\u5757-rlvrpipeline",level:3},{value:"\u914d\u7f6e\u6587\u4ef6 (<code>RLVRConfig</code>)",id:"\u914d\u7f6e\u6587\u4ef6-rlvrconfig",level:3},{value:"\u914d\u7f6e\u6587\u4ef6\u7ed3\u6784\u548c\u7ec4\u7ec7",id:"\u914d\u7f6e\u6587\u4ef6\u7ed3\u6784\u548c\u7ec4\u7ec7",level:4},{value:"\u5956\u52b1\u5de5\u4f5c\u5668",id:"\u5956\u52b1\u5de5\u4f5c\u5668",level:3},{value:"\u2728\ufe0f\u6570\u636e\u51c6\u5907",id:"\ufe0f\u6570\u636e\u51c6\u5907",level:2},{value:"\u6570\u636e\u683c\u5f0f",id:"\u6570\u636e\u683c\u5f0f",level:3},{value:"\u901a\u7528\u6570\u636e\u5b57\u6bb5",id:"\u901a\u7528\u6570\u636e\u5b57\u6bb5",level:4},{value:"\u9886\u57df\u7279\u5b9a\u5b57\u6bb5",id:"\u9886\u57df\u7279\u5b9a\u5b57\u6bb5",level:4},{value:"\u2728\ufe0f\u8fd0\u884c\u6d41\u6c34\u7ebf",id:"\ufe0f\u8fd0\u884c\u6d41\u6c34\u7ebf",level:2},{value:"\u65b9\u6cd51\uff1a\u4f7f\u7528Python\u542f\u52a8\u811a\u672c",id:"\u65b9\u6cd51\u4f7f\u7528python\u542f\u52a8\u811a\u672c",level:3},{value:"\u65b9\u6cd52\uff1a\u4f7f\u7528\u8f85\u52a9Shell\u811a\u672c",id:"\u65b9\u6cd52\u4f7f\u7528\u8f85\u52a9shell\u811a\u672c",level:3},{value:"\u2728\ufe0f\u9010\u6b65\u793a\u4f8b",id:"\ufe0f\u9010\u6b65\u793a\u4f8b",level:2},{value:"\u6b65\u9aa41\uff1a\u914d\u7f6e\u8bbe\u7f6e",id:"\u6b65\u9aa41\u914d\u7f6e\u8bbe\u7f6e",level:3},{value:"\u6b65\u9aa42\uff1a\u51c6\u5907\u73af\u5883\u548c\u4f9d\u8d56",id:"\u6b65\u9aa42\u51c6\u5907\u73af\u5883\u548c\u4f9d\u8d56",level:3},{value:"\u6b65\u9aa43\uff1a\u542f\u52a8\u6d41\u6c34\u7ebf",id:"\u6b65\u9aa43\u542f\u52a8\u6d41\u6c34\u7ebf",level:3},{value:"\u6b65\u9aa44\uff1a\u76d1\u63a7",id:"\u6b65\u9aa44\u76d1\u63a7",level:3},{value:"\u6b65\u9aa45\uff1a\u8f93\u51fa\u548c\u7ed3\u679c",id:"\u6b65\u9aa45\u8f93\u51fa\u548c\u7ed3\u679c",level:3}],y={toc:m},o="wrapper";function N({components:e,...n}){return(0,r.yg)(o,(0,l.A)({},y,n,{components:e,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"rlvr-\u6d41\u6c34\u7ebf"},"RLVR \u6d41\u6c34\u7ebf"),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"\u76ee\u5f55")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"#rlvr-%E6%B5%81%E6%B0%B4%E7%BA%BF"},"RLVR \u6d41\u6c34\u7ebf"),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"#%EF%B8%8F%E6%A6%82%E8%BF%B0"},"\u2728\ufe0f\u6982\u8ff0")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"#%EF%B8%8F%E6%A0%B8%E5%BF%83%E7%BB%84%E4%BB%B6"},"\u2728\ufe0f\u6838\u5fc3\u7ec4\u4ef6"),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"#%E4%B8%BB%E6%A8%A1%E5%9D%97-rlvrpipeline"},"\u4e3b\u6a21\u5757 (",(0,r.yg)("inlineCode",{parentName:"a"},"RLVRPipeline"),")")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-rlvrconfig"},"\u914d\u7f6e\u6587\u4ef6 (",(0,r.yg)("inlineCode",{parentName:"a"},"RLVRConfig"),")"),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84%E5%92%8C%E7%BB%84%E7%BB%87"},"\u914d\u7f6e\u6587\u4ef6\u7ed3\u6784\u548c\u7ec4\u7ec7")))),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"#%E5%A5%96%E5%8A%B1%E5%B7%A5%E4%BD%9C%E5%99%A8"},"\u5956\u52b1\u5de5\u4f5c\u5668")))),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"#%EF%B8%8F%E6%95%B0%E6%8D%AE%E5%87%86%E5%A4%87"},"\u2728\ufe0f\u6570\u636e\u51c6\u5907"),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"#%E6%95%B0%E6%8D%AE%E6%A0%BC%E5%BC%8F"},"\u6570\u636e\u683c\u5f0f"),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"#%E9%80%9A%E7%94%A8%E6%95%B0%E6%8D%AE%E5%AD%97%E6%AE%B5"},"\u901a\u7528\u6570\u636e\u5b57\u6bb5")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"#%E9%A2%86%E5%9F%9F%E7%89%B9%E5%AE%9A%E5%AD%97%E6%AE%B5"},"\u9886\u57df\u7279\u5b9a\u5b57\u6bb5")))))),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"#%EF%B8%8F%E8%BF%90%E8%A1%8C%E6%B5%81%E6%B0%B4%E7%BA%BF"},"\u2728\ufe0f\u8fd0\u884c\u6d41\u6c34\u7ebf"),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"#%E6%96%B9%E6%B3%951%E4%BD%BF%E7%94%A8python%E5%90%AF%E5%8A%A8%E8%84%9A%E6%9C%AC"},"\u65b9\u6cd51\uff1a\u4f7f\u7528Python\u542f\u52a8\u811a\u672c")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"#%E6%96%B9%E6%B3%952%E4%BD%BF%E7%94%A8%E8%BE%85%E5%8A%A9shell%E8%84%9A%E6%9C%AC"},"\u65b9\u6cd52\uff1a\u4f7f\u7528\u8f85\u52a9Shell\u811a\u672c")))),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"#%EF%B8%8F%E9%80%90%E6%AD%A5%E7%A4%BA%E4%BE%8B"},"\u2728\ufe0f\u9010\u6b65\u793a\u4f8b"),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"#%E6%AD%A5%E9%AA%A41%E9%85%8D%E7%BD%AE%E8%AE%BE%E7%BD%AE"},"\u6b65\u9aa41\uff1a\u914d\u7f6e\u8bbe\u7f6e")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"#%E6%AD%A5%E9%AA%A42%E5%87%86%E5%A4%87%E7%8E%AF%E5%A2%83%E5%92%8C%E4%BE%9D%E8%B5%96"},"\u6b65\u9aa42\uff1a\u51c6\u5907\u73af\u5883\u548c\u4f9d\u8d56")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"#%E6%AD%A5%E9%AA%A43%E5%90%AF%E5%8A%A8%E6%B5%81%E6%B0%B4%E7%BA%BF"},"\u6b65\u9aa43\uff1a\u542f\u52a8\u6d41\u6c34\u7ebf")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"#%E6%AD%A5%E9%AA%A44%E7%9B%91%E6%8E%A7"},"\u6b65\u9aa44\uff1a\u76d1\u63a7")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"#%E6%AD%A5%E9%AA%A45%E8%BE%93%E5%87%BA%E5%92%8C%E7%BB%93%E6%9E%9C"},"\u6b65\u9aa45\uff1a\u8f93\u51fa\u548c\u7ed3\u679c"))))))),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"\ufe0f\u6982\u8ff0"},"\u2728\ufe0f\u6982\u8ff0"),(0,r.yg)("p",null,"\u6b64\u6d41\u6c34\u7ebf\u63d0\u4f9b\u4ee5\u4e0b\u6838\u5fc3\u4f18\u52bf\uff1a"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"\u591a\u6837\u5316\u4efb\u52a1\u652f\u6301"),"\uff1a\u5185\u7f6e\u652f\u6301\u5404\u79cd\u4efb\u52a1\u7c7b\u578b\uff0c\u5305\u62ec\u6570\u5b66\u63a8\u7406\u3001\u4ee3\u7801\u751f\u6210\u3001LLM\u4f5c\u4e3a\u8bc4\u5224\u5668\u8bc4\u4f30\u548c\u6307\u4ee4\u9075\u5faa\uff0c\u6bcf\u79cd\u7c7b\u578b\u90fd\u914d\u5907\u4e86\u4e13\u95e8\u7684\u5956\u52b1\u8bc4\u4f30\u673a\u5236\u548c\u7075\u6d3b\u7684\u6269\u5c55\u63a5\u53e3\uff0c\u4ee5\u9002\u5e94\u65b0\u4efb\u52a1\u7c7b\u578b\u3002")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"\u591a\u4efb\u52a1\u8054\u5408\u8bad\u7ec3"),"\uff1a\u80fd\u591f\u540c\u65f6\u4f18\u5316\u6a21\u578b\u5728\u6570\u5b66\u3001\u7f16\u7a0b\u548c\u901a\u7528\u63a8\u7406\u7b49\u591a\u4e2a\u9886\u57df\u7684\u80fd\u529b\uff0c\u7075\u6d3b\u63a7\u5236\u6bcf\u4e2a\u9886\u57df\u7684\u6570\u636e\u91c7\u6837\u6bd4\u4f8b\u548c\u5956\u52b1\u6743\u91cd\u914d\u7f6e\u3002")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"\u7b97\u6cd5\u53cb\u597d\u7684\u5f3a\u5316\u5b66\u4e60\u6846\u67b6"),"\uff1a\u63d0\u4f9b\u4e30\u5bcc\u7684\u5f3a\u5316\u5b66\u4e60\u7b56\u7565\u9009\u9879\uff08\u8d85\u8fc720\u79cd\uff09\uff0c\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u5956\u52b1\u5f52\u4e00\u5316\u3001\u5956\u52b1\u88c1\u526a\u3001\u5404\u79cd\u4f18\u52bf\u4f30\u8ba1\u65b9\u6cd5\u7b49\u3002\u4e0d\u9650\u4e8e\u5355\u4e00\u7b97\u6cd5\u5b9e\u73b0\uff0c\u652f\u6301\u591a\u79cd\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\uff0c\u5982PPO\u3001GRPO\u3001Reinforce++\u3001TOPR\u548cRAFT++\u3002")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"\u5168\u9762\u7684\u6027\u80fd\u76d1\u63a7"),"\uff1a\u7ec6\u7c92\u5ea6\u7684\u6307\u6807\u8ddf\u8e2a\u7cfb\u7edf\uff0c\u540c\u65f6\u76d1\u63a7\u7ec4\u7ea7\u522b\u548c\u6279\u6b21\u7ea7\u522b\u7684\u6027\u80fd\u6307\u6807\uff0c\u4e3a\u6a21\u578b\u8bad\u7ec3\u8fc7\u7a0b\u63d0\u4f9b\u5168\u9762\u7684\u53ef\u89c6\u5316\u548c\u5206\u6790\u80fd\u529b\u3002")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"\u9ad8\u6548\u7684\u5206\u5e03\u5f0f\u8ba1\u7b97"),"\uff1a\u5229\u7528",(0,r.yg)("a",{parentName:"p",href:"https://www.ray.io/"},"Ray"),"\u6846\u67b6\u5728\u5927\u89c4\u6a21GPU\u96c6\u7fa4\u4e0a\u5b9e\u73b0\u9ad8\u6548\u7684\u5206\u5e03\u5f0f\u8bad\u7ec3\uff0c\u663e\u8457\u63d0\u9ad8\u8bad\u7ec3\u901f\u5ea6\u548c\u8d44\u6e90\u5229\u7528\u7387\u3002"))),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"\ufe0f\u6838\u5fc3\u7ec4\u4ef6"},"\u2728\ufe0f\u6838\u5fc3\u7ec4\u4ef6"),(0,r.yg)("h3",{id:"\u4e3b\u6a21\u5757-rlvrpipeline"},"\u4e3b\u6a21\u5757 (",(0,r.yg)("inlineCode",{parentName:"h3"},"RLVRPipeline"),")"),(0,r.yg)("p",null,(0,r.yg)("inlineCode",{parentName:"p"},"RLVRPipeline"),"\uff08\u4f4d\u4e8e",(0,r.yg)("inlineCode",{parentName:"p"},"roll/pipeline/rlvr/rlvr_pipeline.py"),"\uff09\u662f\u6574\u4e2a\u5f3a\u5316\u5b66\u4e60\u8fc7\u7a0b\u7684\u4e3b\u8981\u534f\u8c03\u5668\u3002\u5b83\u7ba1\u7406\u5b8c\u6574\u7684\u8bad\u7ec3\u5de5\u4f5c\u6d41\uff0c\u5305\u62ec\uff1a"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"\u521d\u59cb\u5316\u548c\u7ba1\u7406\u5206\u5e03\u5f0f\u5de5\u4f5c\u5668\uff08actor\u3001critic\u3001reference\u548c\u5404\u79cd\u5956\u52b1\u5de5\u4f5c\u5668\uff09\u3002"),(0,r.yg)("li",{parentName:"ul"},"\u534f\u8c03\u6570\u636e\u6536\u96c6\u548c\u5904\u7406\u3002"),(0,r.yg)("li",{parentName:"ul"},"\u6267\u884c\u6a21\u578b\u8bad\u7ec3\u6b65\u9aa4\uff08\u4f8b\u5982\uff0cactor\u548ccritic\u7684PPO\u66f4\u65b0\uff09\u3002"),(0,r.yg)("li",{parentName:"ul"},"\u5904\u7406\u6a21\u578b\u540c\u6b65\u548c\u68c0\u67e5\u70b9\u4fdd\u5b58\u3002"),(0,r.yg)("li",{parentName:"ul"},"\u9a8c\u8bc1\u96c6\u8bc4\u4f30\u3002"),(0,r.yg)("li",{parentName:"ul"},"\u8bb0\u5f55\u6307\u6807\u548c\u5b9e\u9a8c\u8ddf\u8e2a\u3002")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"\u6e90\u4ee3\u7801"),"\uff1a",(0,r.yg)("inlineCode",{parentName:"p"},"roll/pipeline/rlvr/rlvr_pipeline.py")),(0,r.yg)("hr",null),(0,r.yg)("h3",{id:"\u914d\u7f6e\u6587\u4ef6-rlvrconfig"},"\u914d\u7f6e\u6587\u4ef6 (",(0,r.yg)("inlineCode",{parentName:"h3"},"RLVRConfig"),")"),(0,r.yg)("p",null,(0,r.yg)("inlineCode",{parentName:"p"},"RLVRConfig"),"\uff08\u5b9a\u4e49\u4e8e",(0,r.yg)("inlineCode",{parentName:"p"},"roll/pipeline/rlvr/rlvr_config.py"),"\uff09\u662f\u4e00\u4e2a\u57fa\u4e8ePydantic/dataclass\u7684\u914d\u7f6e\u5bf9\u8c61\uff0c\u7528\u4e8e\u6307\u5b9a\u8fd0\u884crlvr\u6d41\u6c34\u7ebf\u7684\u6240\u6709\u53c2\u6570\u3002\u6b64\u914d\u7f6e\u7cfb\u7edf\u8bbe\u8ba1\u7075\u6d3b\uff0c\u652f\u6301\u901a\u8fc7YAML\u6587\u4ef6\u8fdb\u884c\u914d\u7f6e\uff0c\u5e76\u4f7f\u7528Hydra\u6846\u67b6\u8fdb\u884c\u7ba1\u7406\u3002"),(0,r.yg)("h4",{id:"\u914d\u7f6e\u6587\u4ef6\u7ed3\u6784\u548c\u7ec4\u7ec7"},"\u914d\u7f6e\u6587\u4ef6\u7ed3\u6784\u548c\u7ec4\u7ec7"),(0,r.yg)("p",null,"\u914d\u7f6e\u6587\u4ef6\uff08\u5982",(0,r.yg)("inlineCode",{parentName:"p"},"examples/qwen2.5-7B-rlvr_megatron/rlvr_config.yaml"),"\uff09\u6309\u529f\u80fd\u6a21\u5757\u7ec4\u7ec7\uff0c\u5305\u542b\u4ee5\u4e0b\u4e3b\u8981\u90e8\u5206\uff1a"),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"\u5b9e\u9a8c\u57fa\u672c\u8bbe\u7f6e")),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"exp_name"),"\uff1a\u5b9e\u9a8c\u540d\u79f0\uff0c\u7528\u4e8e\u6807\u8bc6\u7279\u5b9a\u7684\u8bad\u7ec3\u8fd0\u884c"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"logging_dir"),"\uff1a\u4fdd\u5b58\u65e5\u5fd7\u6587\u4ef6\u7684\u8def\u5f84"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"output_dir"),"\uff1a\u4fdd\u5b58\u6a21\u578b\u68c0\u67e5\u70b9\u548c\u8f93\u51fa\u6587\u4ef6\u7684\u8def\u5f84"))),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"\u8bad\u7ec3\u63a7\u5236\u53c2\u6570")),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"max_steps"),"\uff1a\u6700\u5927\u8bad\u7ec3\u6b65\u6570"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"save_steps"),"\uff1a\u4fdd\u5b58\u6a21\u578b\u68c0\u67e5\u70b9\u7684\u9891\u7387"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"logging_steps"),"\uff1a\u8bb0\u5f55\u8bad\u7ec3\u6307\u6807\u7684\u9891\u7387"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"eval_steps"),"\uff1a\u6267\u884c\u9a8c\u8bc1\u8bc4\u4f30\u7684\u9891\u7387"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"resume_from_checkpoint"),"\uff1a\u662f\u5426\u4ece\u68c0\u67e5\u70b9\u7ee7\u7eed\u8bad\u7ec3"))),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"\u6a21\u578b\u914d\u7f6e")),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"pretrain"),"\uff1aActor\u548cReference\u6a21\u578b\u7684\u9884\u8bad\u7ec3\u6743\u91cd\u8def\u5f84"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"reward_pretrain"),"\uff1aCritic\u6a21\u578b\u7684\u9884\u8bad\u7ec3\u6743\u91cd\u8def\u5f84"))),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\u53c2\u6570")),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"ppo_epochs"),"\uff1a\u6bcf\u6279\u6570\u636e\u7684PPO\u66f4\u65b0\u6b21\u6570"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"init_kl_coef"),"\uff1aKL\u6563\u5ea6\u7684\u521d\u59cb\u7cfb\u6570"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"target_kl"),"\uff1aKL\u6563\u5ea6\u7684\u76ee\u6807\u503c"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"adv_estimator"),"\uff1a\u4f18\u52bf\u4f30\u8ba1\u65b9\u6cd5\uff08\u4f8b\u5982\uff0c",(0,r.yg)("inlineCode",{parentName:"li"},"gae"),"\uff09"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"gamma"),"\uff1a\u6298\u6263\u56e0\u5b50"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"lambd"),"\uff1aGAE lambda\u53c2\u6570"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"reward_normalize"),"\uff1a\u662f\u5426\u5f52\u4e00\u5316\u5956\u52b1"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"reward_clip"),"\uff1a\u5956\u52b1\u88c1\u526a\u8303\u56f4"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"value_clip"),"\uff1a\u503c\u88c1\u526a\u8303\u56f4"),(0,r.yg)("li",{parentName:"ul"},"..."))),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"\u5de5\u4f5c\u5668\u914d\u7f6e"),"\n\u6bcf\u4e2a\u5de5\u4f5c\u5668\uff08",(0,r.yg)("inlineCode",{parentName:"p"},"actor_train"),"\u3001",(0,r.yg)("inlineCode",{parentName:"p"},"actor_infer"),"\u3001",(0,r.yg)("inlineCode",{parentName:"p"},"critic"),"\u3001",(0,r.yg)("inlineCode",{parentName:"p"},"reference"),"\uff09\u914d\u7f6e\u5305\u542b\uff1a"),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"\u6a21\u578b\u53c2\u6570")," (",(0,r.yg)("inlineCode",{parentName:"li"},"model_args"),")",(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"model_type"),"\uff1a\u6a21\u578b\u7c7b\u578b\uff08\u4f8b\u5982\uff0c",(0,r.yg)("inlineCode",{parentName:"li"},"causal_lm"),"\uff09"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"dtype"),"\uff1a\u8ba1\u7b97\u7cbe\u5ea6\uff08\u4f8b\u5982\uff0c",(0,r.yg)("inlineCode",{parentName:"li"},"bf16"),"\u3001",(0,r.yg)("inlineCode",{parentName:"li"},"fp16"),"\uff09"),(0,r.yg)("li",{parentName:"ul"},"..."))),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"\u8bad\u7ec3\u53c2\u6570")," (",(0,r.yg)("inlineCode",{parentName:"li"},"training_args"),")",(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"learning_rate"),"\uff1a\u5b66\u4e60\u7387"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"per_device_train_batch_size"),"\uff1a\u6bcf\u4e2a\u8bbe\u5907\u7684\u8bad\u7ec3\u6279\u6b21\u5927\u5c0f"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"gradient_accumulation_steps"),"\uff1a\u68af\u5ea6\u7d2f\u79ef\u6b65\u6570"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"weight_decay"),"\uff1a\u6743\u91cd\u8870\u51cf\u7cfb\u6570"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"max_grad_norm"),"\uff1a\u68af\u5ea6\u88c1\u526a\u9608\u503c"),(0,r.yg)("li",{parentName:"ul"},"..."))),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"\u751f\u6210\u53c2\u6570")," (",(0,r.yg)("inlineCode",{parentName:"li"},"generating_args"),")",(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"max_new_tokens"),"\uff1a\u751f\u6210\u7684\u65b0token\u6700\u5927\u6570\u91cf"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"top_p"),"\uff1a\u6838\u91c7\u6837\u53c2\u6570"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"temperature"),"\uff1a\u91c7\u6837\u6e29\u5ea6"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"do_sample"),"\uff1a\u662f\u5426\u4f7f\u7528\u91c7\u6837\u8fdb\u884c\u751f\u6210"),(0,r.yg)("li",{parentName:"ul"},"..."))),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"\u5206\u5e03\u5f0f\u7b56\u7565")," (",(0,r.yg)("inlineCode",{parentName:"li"},"strategy_args"),")",(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"strategy_name"),"\uff1a\u8981\u4f7f\u7528\u7684\u5206\u5e03\u5f0f\u7b56\u7565\uff08\u4f8b\u5982\uff0c",(0,r.yg)("inlineCode",{parentName:"li"},"megatron_train"),"\u3001",(0,r.yg)("inlineCode",{parentName:"li"},"vllm"),"\u3001",(0,r.yg)("inlineCode",{parentName:"li"},"sglang"),"\u3001",(0,r.yg)("inlineCode",{parentName:"li"},"hf_infer"),"\uff09"),(0,r.yg)("li",{parentName:"ul"},"\u7b56\u7565\u7279\u5b9a\u53c2\u6570\uff1a\u4f8b\u5982\uff0c",(0,r.yg)("inlineCode",{parentName:"li"},"tp_size"),"\uff08\u5f20\u91cf\u5e76\u884c\u5927\u5c0f\uff09\u3001",(0,r.yg)("inlineCode",{parentName:"li"},"pp_size"),"\uff08\u6d41\u6c34\u7ebf\u5e76\u884c\u5927\u5c0f\uff09"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"gpu_memory_utilization"),"\uff1aGPU\u5185\u5b58\u5229\u7528\u7387\uff08vLLM\u7279\u5b9a\uff09"))),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"\u8bbe\u5907\u6620\u5c04")," (",(0,r.yg)("inlineCode",{parentName:"li"},"device_mapping"),")",(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"\u6307\u5b9a\u5de5\u4f5c\u5668\u5e94\u4f7f\u7528\u7684GPU\u8bbe\u5907"))))),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"\u5956\u52b1\u8bbe\u7f6e"),"\n",(0,r.yg)("inlineCode",{parentName:"p"},"rewards"),"\u90e8\u5206\u5305\u542b\u4e0d\u540c\u9886\u57df\u7684\u5956\u52b1\u5de5\u4f5c\u5668\u914d\u7f6e\uff1a"),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"\u6570\u5b66")," (",(0,r.yg)("inlineCode",{parentName:"p"},"math_rule"),")"),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"worker_cls"),"\uff1a\u5de5\u4f5c\u5668\u7c7b\u540d\uff08\u4f8b\u5982\uff0c",(0,r.yg)("inlineCode",{parentName:"li"},"MathRuleRewardWorker"),"\uff09"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"tag_included"),"\uff1a\u8fd9\u4e9b\u6807\u7b7e\u4f7f\u7528\u5956\u52b1\u9886\u57df\u8fdb\u884c\u8ba1\u7b97"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"model_args"),"\uff1a\u5956\u52b1\u6a21\u578b\u53c2\u6570"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"world_size"),"\uff1a\u5de5\u4f5c\u5668\u6570\u91cf"))),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"\u4ee3\u7801")," (",(0,r.yg)("inlineCode",{parentName:"p"},"code_sandbox"),")"),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"\u7c7b\u4f3c\u914d\u7f6e\uff0c\u4f46\u7528\u4e8e\u4ee3\u7801\u8bc4\u4f30"))),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"\u901a\u7528\u63a8\u7406")," (",(0,r.yg)("inlineCode",{parentName:"p"},"llm_judge"),")"),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"\u4f7f\u7528LLM\u4f5c\u4e3a\u8bc4\u5224\u5668\u7684\u914d\u7f6e"))))),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"\u9a8c\u8bc1\u548c\u8bc4\u4f30\u8bbe\u7f6e"),"\n",(0,r.yg)("inlineCode",{parentName:"p"},"validation"),"\u90e8\u5206\u914d\u7f6e\u9a8c\u8bc1\u6570\u636e\u96c6\u548c\u8bc4\u4f30\u65b9\u6cd5\uff1a"),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"file_name"),"\uff1a\u9a8c\u8bc1\u6570\u636e\u96c6\u6587\u4ef6\u8def\u5f84"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"batch_size"),"\uff1a\u9a8c\u8bc1\u6279\u6b21\u5927\u5c0f"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"metrics"),"\uff1a\u8981\u8ba1\u7b97\u7684\u8bc4\u4f30\u6307\u6807")))),(0,r.yg)("hr",null),(0,r.yg)("h3",{id:"\u5956\u52b1\u5de5\u4f5c\u5668"},"\u5956\u52b1\u5de5\u4f5c\u5668"),(0,r.yg)("p",null,"rlvr\u6d41\u6c34\u7ebf\u652f\u6301\u5404\u79cdrlvr\u9886\u57df\u7684\u5956\u52b1\u673a\u5236\uff1a"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"\u6570\u5b66\u89c4\u5219\u5956\u52b1")," (",(0,r.yg)("inlineCode",{parentName:"li"},"MathRuleRewardWorker"),") \u2013 \u8bc4\u4f30\u6570\u5b66\u63a8\u7406\u7684\u6b63\u786e\u6027\u548c\u6b65\u9aa4\u3002"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"\u4ee3\u7801\u6c99\u76d2\u5956\u52b1")," (",(0,r.yg)("inlineCode",{parentName:"li"},"CodeSandboxRewardWorker"),") \u2013 \u901a\u8fc7\u6267\u884c\u4ee3\u7801\u5e76\u9a8c\u8bc1\u5176\u8f93\u51fa\u6765\u8bc4\u4f30\u4ee3\u7801\u751f\u6210\u3002"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"LLM\u8bc4\u5224\u5956\u52b1")," (",(0,r.yg)("inlineCode",{parentName:"li"},"LLMJudgeRewardWorker"),") \u2013 \u4f7f\u7528\u53e6\u4e00\u4e2aLLM\u4f5c\u4e3a\u8bc4\u5224\u5668\u6765\u8bc4\u4f30\u751f\u6210\u7b54\u6848\u7684\u8d28\u91cf\u3002")),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"\ufe0f\u6570\u636e\u51c6\u5907"},"\u2728\ufe0f\u6570\u636e\u51c6\u5907"),(0,r.yg)("h3",{id:"\u6570\u636e\u683c\u5f0f"},"\u6570\u636e\u683c\u5f0f"),(0,r.yg)("p",null,"rlvr\u6d41\u6c34\u7ebf\u4f7f\u7528JSON\u683c\u5f0f\u7684\u6570\u636e\u6587\u4ef6\u3002\u4e0d\u540c\u9886\u57df\u9700\u8981\u7279\u5b9a\u5b57\u6bb5\uff1a"),(0,r.yg)("h4",{id:"\u901a\u7528\u6570\u636e\u5b57\u6bb5"},"\u901a\u7528\u6570\u636e\u5b57\u6bb5"),(0,r.yg)("p",null,"\u6240\u6709\u9886\u57df\u90fd\u9700\u8981\u4ee5\u4e0b\u5b57\u6bb5\uff1a"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"id"),"\uff1a\u6570\u636e\u70b9\u7684\u552f\u4e00\u6807\u8bc6\u7b26 ",(0,r.yg)("strong",{parentName:"li"},"(\u5fc5\u9700)")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"messages")," \u6216 ",(0,r.yg)("inlineCode",{parentName:"li"},"prompt"),"\uff1a\u8f93\u5165\u63d0\u793a\uff0c\u53ef\u4ee5\u662f\u6d88\u606f\u5217\u8868\uff08JSON\u5b57\u7b26\u4e32\uff09\u6216\u5355\u4e2a\u63d0\u793a\u5b57\u7b26\u4e32 ",(0,r.yg)("strong",{parentName:"li"},"(\u5fc5\u9700)")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"tag"),"\uff1a\u7528\u4e8e\u66f4\u7ec6\u7c92\u5ea6\u7684\u5206\u7c7b\uff08\u4f8b\u5982\uff0c",(0,r.yg)("inlineCode",{parentName:"li"},"gsm8k"),"\u3001",(0,r.yg)("inlineCode",{parentName:"li"},"olympiads"),"\u7b49\uff09 ",(0,r.yg)("strong",{parentName:"li"},"(\u5fc5\u9700)")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"difficulty"),"\uff1a\u95ee\u9898\u96be\u5ea6\u7ea7\u522b ",(0,r.yg)("strong",{parentName:"li"},"(\u53ef\u9009)"))),(0,r.yg)("h4",{id:"\u9886\u57df\u7279\u5b9a\u5b57\u6bb5"},"\u9886\u57df\u7279\u5b9a\u5b57\u6bb5"),(0,r.yg)("p",null,"\u6839\u636e\u9886\u57df\u4e0d\u540c\uff0c\u6570\u636e\u70b9\u9700\u8981\u5305\u542b\u4ee5\u4e0b\u7279\u5b9a\u5b57\u6bb5\uff1a"),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"\u6570\u5b66")," (",(0,r.yg)("inlineCode",{parentName:"li"},"math_rule"),")",(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"ground_truth"),"\uff1a\u6b63\u786e\u7b54\u6848\u6216\u89e3\u9898\u6b65\u9aa4 ",(0,r.yg)("strong",{parentName:"li"},"(\u5fc5\u9700)")))),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"\u4ee3\u7801")," (",(0,r.yg)("inlineCode",{parentName:"li"},"code_sandbox"),")",(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"test_cases"),"\uff1a\u7528\u4e8e\u9a8c\u8bc1\u4ee3\u7801\u6b63\u786e\u6027\u7684\u6d4b\u8bd5\u7528\u4f8b ",(0,r.yg)("strong",{parentName:"li"},"(\u5fc5\u9700)")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"case_type"),"\uff1a\u6d4b\u8bd5\u7528\u4f8b\u7c7b\u578b\uff08\u4f8b\u5982\uff0c",(0,r.yg)("inlineCode",{parentName:"li"},"pytest"),"\uff09 ",(0,r.yg)("strong",{parentName:"li"},"(\u5fc5\u9700)")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"test_case_function"),"\uff1a\u6d4b\u8bd5\u51fd\u6570\u5b9a\u4e49 ",(0,r.yg)("strong",{parentName:"li"},"(\u53ef\u9009)")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"ground_truth"),"\uff1a\u53c2\u8003\u7b54\u6848 ",(0,r.yg)("strong",{parentName:"li"},"(\u53ef\u9009)")))),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"\u901a\u7528\u63a8\u7406")," (",(0,r.yg)("inlineCode",{parentName:"li"},"llm_judge"),")",(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"ground_truth"),"\uff1a\u6807\u51c6\u7b54\u6848\u6216\u53c2\u8003\u54cd\u5e94 ",(0,r.yg)("strong",{parentName:"li"},"(\u5fc5\u9700)"))))),(0,r.yg)("p",null,"\u793a\u4f8b\u6570\u636e\u683c\u5f0f\uff08MATH\uff09\uff1a"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-json"},'{\n    "id": "0",\n    "source": "gsm8k",\n    "difficulty": 0,\n    "prompt": "\u89e3\u65b9\u7a0b 3x + 5 = 14",\n    "messages": "[{\\"role\\": \\"system\\", \\"content\\": \\"\u4f60\u662f\u4e00\u4e2a\u64c5\u957f\u89e3\u51b3\u590d\u6742\u6570\u5b66\u95ee\u9898\u7684\u6570\u5b66\u52a9\u624b\u3002\\"}, {\\"role\\": \\"user\\", \\"content\\": \\"\u89e3\u65b9\u7a0b 3x + 5 = 14\\"}]",\n    "ground_truth": "204",\n    "case_type": "",\n    "test_case_function": "",\n    "test_cases": "",\n    "tag": "math_rule"\n }\n')),(0,r.yg)("p",null,"\u793a\u4f8b\u6570\u636e\u683c\u5f0f\uff08\u4ee3\u7801\u9886\u57df\uff09\uff1a"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "5ea1ab",\n  "source": "codeforeces",\n  "difficulty": "0",\n  "prompt": "\u4f60\u662f\u4e00\u4f4d\u4e13\u4e1a\u7684Python\u7a0b\u5e8f\u5458\u3002\u4f60\u5c06\u6536\u5230\u4e00\u4e2a\u95ee\u9898\uff08\u95ee\u9898\u63cf\u8ff0\uff09\u5e76\u751f\u6210\u4e00\u4e2a\u6b63\u786e\u7684Python\u7a0b\u5e8f\uff0c\u8be5\u7a0b\u5e8f\u7b26\u5408\u63cf\u8ff0\u5e76\u80fd\u901a\u8fc7\u6240\u6709\u6d4b\u8bd5\u3002\\\\n\\\\n### \u95ee\u9898\uff1a\u7f16\u5199\u4e00\u4e2a\u51fd\u6570\uff0c\u63a5\u6536\u4e00\u4e2a\u4e0d\u540c\u6574\u6570\u7684\u6570\u7ec4\u5e76\u8fd4\u56de\u6240\u6709\u53ef\u80fd\u7684\u6392\u5217\uff08\u4efb\u610f\u987a\u5e8f\uff09\u3002\u6bcf\u4e2a\u6392\u5217\u5e94\u8868\u793a\u4e3a\u4e00\u4e2a\u6574\u6570\u6570\u7ec4\u3002\u8be5\u51fd\u6570\u5e94\u80fd\u9ad8\u6548\u5904\u7406\u4e0d\u540c\u957f\u5ea6\u7684\u6570\u7ec4\u3002\\\\n\\\\n### \u683c\u5f0f\uff1a\u4f60\u5c06\u4f7f\u7528\u4ee5\u4e0b\u8d77\u59cb\u4ee3\u7801\u7f16\u5199\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u5e76\u5c06\u4ee3\u7801\u5305\u542b\u5728\u5206\u9694\u7b26\u5185\u3002\\\\n```python\\\\ndef permute(nums):\\\\n```\\\\n\\\\n### \u7b54\u6848\uff1a\uff08\u4f7f\u7528\u63d0\u4f9b\u7684\u683c\u5f0f\u548c\u53cd\u5f15\u53f7\uff09",\n  "messages": "[{\\"role\\": \\"user\\", \\"content\\": \\"\u4f60\u662f\u4e00\u4f4d\u4e13\u4e1a\u7684Python\u7a0b\u5e8f\u5458\u3002\u4f60\u5c06\u6536\u5230\u4e00\u4e2a\u95ee\u9898\uff08\u95ee\u9898\u63cf\u8ff0\uff09\u5e76\u751f\u6210\u4e00\u4e2a\u6b63\u786e\u7684Python\u7a0b\u5e8f\uff0c\u8be5\u7a0b\u5e8f\u7b26\u5408\u63cf\u8ff0\u5e76\u80fd\u901a\u8fc7\u6240\u6709\u6d4b\u8bd5\u3002 \\\\n\\\\n### \u95ee\u9898\uff1a\u7f16\u5199\u4e00\u4e2a\u51fd\u6570\uff0c\u63a5\u6536\u4e00\u4e2a\u4e0d\u540c\u6574\u6570\u7684\u6570\u7ec4\u5e76\u8fd4\u56de\u6240\u6709\u53ef\u80fd\u7684\u6392\u5217\uff08\u4efb\u610f\u987a\u5e8f\uff09\u3002\u6bcf\u4e2a\u6392\u5217\u5e94\u8868\u793a\u4e3a\u4e00\u4e2a\u6574\u6570\u6570\u7ec4\u3002\u8be5\u51fd\u6570\u5e94\u80fd\u9ad8\u6548\u5904\u7406\u4e0d\u540c\u957f\u5ea6\u7684\u6570\u7ec4\u3002\\\\n\\\\n### \u683c\u5f0f\uff1a\u4f60\u5c06\u4f7f\u7528\u4ee5\u4e0b\u8d77\u59cb\u4ee3\u7801\u7f16\u5199\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u5e76\u5c06\u4ee3\u7801\u5305\u542b\u5728\u5206\u9694\u7b26\u5185\u3002\\\\n```python\\\\ndef permute(nums):\\\\n```\\\\n\\\\n### \u7b54\u6848\uff1a\uff08\u4f7f\u7528\u63d0\u4f9b\u7684\u683c\u5f0f\u548c\u53cd\u5f15\u53f7\uff09\\"}]",\n  "ground_truth": "[\\"def permute(nums):\\\\n    \\\\\\"\\\\\\"\\\\\\"\\\\n    \u7ed9\u5b9a\u4e00\u4e2a\u4e0d\u540c\u6574\u6570\u7684\u6570\u7ec4\uff0c\u8fd4\u56de\u6240\u6709\u53ef\u80fd\u7684\u6392\u5217\u3002\\\\n    \u6bcf\u4e2a\u6392\u5217\u662f\u4e00\u4e2a\u6574\u6570\u6570\u7ec4\u3002\\\\n    \\\\\\"\\\\\\"\\\\\\"\\\\n    def backtrack(start, end):\\\\n        if start == end:\\\\n            permutations.append(nums[:])\\\\n        for i in range(start, end):\\\\n            nums[start], nums[i] = nums[i], nums[start]\\\\n            backtrack(start + 1, end)\\\\n            nums[start], nums[i] = nums[i], nums[start]\\\\n\\\\n    permutations = []\\\\n    backtrack(0, len(nums))\\\\n    return permutations\\"]",\n  "case_type": "pytest",\n  "test_case_function": " ",\n  "test_cases": "[{\\"assert_code\\": \\"\\\\n\\\\n\\\\ndef test_permute_single_element():\\\\n    assert permute([1]) == [[1]]\\\\n\\\\ndef test_permute_two_elements():\\\\n    result = permute([1, 2])\\\\n    expected = [[1, 2], [2, 1]]\\\\n    assert sorted(result) == sorted(expected)\\\\n\\\\ndef test_permute_three_elements():\\\\n    result = permute([1, 2, 3])\\\\n    expected = [[1, 2, 3], [1, 3, 2], [2, 1, 3], [2, 3, 1], [3, 1, 2], [3, 2, 1]]\\\\n    assert sorted(result) == sorted(expected)\\\\n\\\\ndef test_permute_four_elements():\\\\n    result = permute([1, 2, 3, 4])\\\\n    expected = [\\\\n        [1, 2, 3, 4], [1, 2, 4, 3], [1, 3, 2, 4], [1, 3, 4, 2], [1, 4, 2, 3], [1, 4, 3, 2],\\\\n        [2, 1, 3, 4], [2, 1, 4, 3], [2, 3, 1, 4], [2, 3, 4, 1], [2, 4, 1, 3], [2, 4, 3, 1],\\\\n        [3, 1, 2, 4], [3, 1, 4, 2], [3, 2, 1, 4], [3, 2, 4, 1], [3, 4, 1, 2], [3, 4, 2, 1],\\\\n        [4, 1, 2, 3], [4, 1, 3, 2], [4, 2, 1, 3], [4, 2, 3, 1], [4, 3, 1, 2], [4, 3, 2, 1]\\\\n    ]\\\\n    assert sorted(result) == sorted(expected)\\"}]",\n  "tag": "KodCode"\n}\n')),(0,r.yg)("p",null,"\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528",(0,r.yg)("inlineCode",{parentName:"p"},"domain_interleave_probs"),"\u8bbe\u7f6e\u4e0d\u540c\u9886\u57df\u7684\u91c7\u6837\u6bd4\u4f8b\uff0c\u4f8b\u5982\uff1a"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-yaml"},"domain_interleave_probs:\n  math_rule: 0.6\n  code_sandbox: 0.3\n  llm_judge: 0.1\n")),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"\ufe0f\u8fd0\u884c\u6d41\u6c34\u7ebf"},"\u2728\ufe0f\u8fd0\u884c\u6d41\u6c34\u7ebf"),(0,r.yg)("h3",{id:"\u65b9\u6cd51\u4f7f\u7528python\u542f\u52a8\u811a\u672c"},"\u65b9\u6cd51\uff1a\u4f7f\u7528Python\u542f\u52a8\u811a\u672c"),(0,r.yg)("p",null,"\u4e3b\u8981\u65b9\u6cd5\u662f\u4f7f\u7528",(0,r.yg)("inlineCode",{parentName:"p"},"examples/start_rlvr_pipeline.py"),"\u811a\u672c\u3002\u6b64\u811a\u672c\u4f7f\u7528Hydra\u52a0\u8f7d\u548c\u7ba1\u7406\u914d\u7f6e\u3002"),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"\u9009\u62e9\u6216\u521b\u5efa\u914d\u7f6e\u6587\u4ef6"),(0,r.yg)("br",{parentName:"p"}),"\n","\u4ece\u793a\u4f8bYAML\uff08\u4f8b\u5982\uff0c",(0,r.yg)("inlineCode",{parentName:"p"},"examples/qwen2.5-7B-rlvr_megatron/rlvr_config.yaml"),"\uff09\u5f00\u59cb\u6216\u521b\u5efa\u60a8\u81ea\u5df1\u7684\u914d\u7f6e\u3002")),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"\u6267\u884cPython\u542f\u52a8\u811a\u672c")),(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-bash"},"# \u786e\u4fdd\u60a8\u5728ROLL (ScaleAligner)\u9879\u76ee\u7684\u6839\u76ee\u5f55\u4e2d\n# export PYTHONPATH=$(pwd):$PYTHONPATH\n\npython examples/start_rlvr_pipeline.py \\\n       --config_path examples/qwen2.5-7B-rlvr_megatron \\\n       --config_name rlvr_config\n")),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"--config_path")," \u2013 \u5305\u542bYAML\u914d\u7f6e\u7684\u76ee\u5f55\u3002"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"--config_name")," \u2013 \u6587\u4ef6\u540d\uff08\u4e0d\u5e26",(0,r.yg)("inlineCode",{parentName:"li"},".yaml"),"\uff09\u3002")))),(0,r.yg)("h3",{id:"\u65b9\u6cd52\u4f7f\u7528\u8f85\u52a9shell\u811a\u672c"},"\u65b9\u6cd52\uff1a\u4f7f\u7528\u8f85\u52a9Shell\u811a\u672c"),(0,r.yg)("p",null,(0,r.yg)("inlineCode",{parentName:"p"},"examples"),"\u76ee\u5f55\u901a\u5e38\u5305\u542b\u5305\u88c5Python\u542f\u52a8\u5668\u7684shell\u811a\u672c\uff08\u4f8b\u5982\uff0c",(0,r.yg)("inlineCode",{parentName:"p"},"start_ppo_pipeline_math_hz.sh"),"\uff09\u3002"),(0,r.yg)("p",null,"\u793a\u4f8b\u7ed3\u6784\uff1a"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-bash"},'#!/bin/bash\n# \u793a\u4f8b: examples/qwen2.5-7B-rlvr_megatron/run_rlvr_pipeline.sh\n\nCONFIG_NAME="rlvr_config"                         # rlvr_config.yaml\nCONFIG_PATH="examples/qwen2.5-7B-rlvr_megatron"\n\n# \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\u548c\u5176\u4ed6\u914d\u7f6e\n\npython examples/start_rlvr_pipeline.py \\\n       --config_path $CONFIG_PATH \\\n       --config_name $CONFIG_NAME \\\n       "$@"   # \u4f20\u9012\u4efb\u4f55\u9644\u52a0\u53c2\u6570\n')),(0,r.yg)("p",null,"\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u8fd0\u884c\uff1a"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-bash"},"bash examples/qwen2.5-7B-rlvr_megatron/run_rlvr_pipeline.sh\n")),(0,r.yg)("hr",null),(0,r.yg)("h2",{id:"\ufe0f\u9010\u6b65\u793a\u4f8b"},"\u2728\ufe0f\u9010\u6b65\u793a\u4f8b"),(0,r.yg)("h3",{id:"\u6b65\u9aa41\u914d\u7f6e\u8bbe\u7f6e"},"\u6b65\u9aa41\uff1a\u914d\u7f6e\u8bbe\u7f6e"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"\u6587\u4ef6\uff1a",(0,r.yg)("inlineCode",{parentName:"p"},"examples/qwen2.5-7B-rlvr_megatron/rlvr_config.yaml"),(0,r.yg)("br",{parentName:"p"}),"\n","\u5173\u952e\u90e8\u5206\u5305\u62ec",(0,r.yg)("inlineCode",{parentName:"p"},"exp_name"),"\u3001",(0,r.yg)("inlineCode",{parentName:"p"},"seed"),"\u3001",(0,r.yg)("inlineCode",{parentName:"p"},"output_dir"),"\u3001\u6a21\u578b\u8def\u5f84\u3001",(0,r.yg)("inlineCode",{parentName:"p"},"actor_train"),"\u3001",(0,r.yg)("inlineCode",{parentName:"p"},"actor_infer"),"\u3001",(0,r.yg)("inlineCode",{parentName:"p"},"reference"),"\u3001PPO\u53c2\u6570\u548c\u5956\u52b1\u914d\u7f6e\u3002")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"\u7279\u522b\u6ce8\u610f\u8fd9\u4e9b\u914d\u7f6e\u90e8\u5206\uff1a"),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},"\u6570\u636e\u914d\u7f6e\uff1a",(0,r.yg)("inlineCode",{parentName:"li"},"actor_train.data_args.file_name"),"\u548c",(0,r.yg)("inlineCode",{parentName:"li"},"domain_interleave_probs")),(0,r.yg)("li",{parentName:"ul"},"\u6a21\u578b\u914d\u7f6e\uff1a",(0,r.yg)("inlineCode",{parentName:"li"},"pretrain"),"\u548c",(0,r.yg)("inlineCode",{parentName:"li"},"reward_pretrain"),"\u8def\u5f84"),(0,r.yg)("li",{parentName:"ul"},"\u5206\u5e03\u5f0f\u7b56\u7565\uff1a\u6bcf\u4e2a\u5de5\u4f5c\u5668\u7684",(0,r.yg)("inlineCode",{parentName:"li"},"strategy_args"),"\u548c",(0,r.yg)("inlineCode",{parentName:"li"},"device_mapping")),(0,r.yg)("li",{parentName:"ul"},"\u5956\u52b1\u914d\u7f6e\uff1a",(0,r.yg)("inlineCode",{parentName:"li"},"rewards"),"\u90e8\u5206\u4e2d\u4e0d\u540c\u9886\u57df\u7684\u5956\u52b1\u5de5\u4f5c\u5668")))),(0,r.yg)("h3",{id:"\u6b65\u9aa42\u51c6\u5907\u73af\u5883\u548c\u4f9d\u8d56"},"\u6b65\u9aa42\uff1a\u51c6\u5907\u73af\u5883\u548c\u4f9d\u8d56"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"\u786e\u4fdd\u5b89\u88c5\u4e86\u6240\u6709\u5fc5\u8981\u7684\u4f9d\u8d56\uff1a"),(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-bash"},"pip install -r requirements.txt\n"))),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"\u9a8c\u8bc1\u914d\u7f6e\u4e2d\u7684\u6240\u6709\u6a21\u578b\u8def\u5f84\u662f\u5426\u53ef\u8bbf\u95ee\u3002")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"\u51c6\u5907\u8bad\u7ec3\u548c\u9a8c\u8bc1\u6570\u636e\u96c6\uff0c\u786e\u4fdd\u5b83\u4eec\u7b26\u5408\u4e0a\u8ff0\u6570\u636e\u683c\u5f0f\u8981\u6c42\u3002"))),(0,r.yg)("h3",{id:"\u6b65\u9aa43\u542f\u52a8\u6d41\u6c34\u7ebf"},"\u6b65\u9aa43\uff1a\u542f\u52a8\u6d41\u6c34\u7ebf"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-bash"},"python examples/start_rlvr_pipeline.py \\\n       --config_path examples/qwen2.5-7B-rlvr_megatron_hz \\\n       --config_name ppo\n")),(0,r.yg)("h3",{id:"\u6b65\u9aa44\u76d1\u63a7"},"\u6b65\u9aa44\uff1a\u76d1\u63a7"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"\u63a7\u5236\u53f0\u8f93\u51fa")," \u2013 \u89c2\u5bdfHydra\u3001Ray\u548c\u6d41\u6c34\u7ebf\u65e5\u5fd7\u3002")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"\u65e5\u5fd7\u6587\u4ef6")," \u2013 \u68c0\u67e5YAML\u4e2d\u6307\u5b9a\u7684",(0,r.yg)("inlineCode",{parentName:"p"},"logging_dir"),"\u3002")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"TensorBoard")),(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-bash"},"tensorboard --logdir <your_log_dir>\n")))),(0,r.yg)("h3",{id:"\u6b65\u9aa45\u8f93\u51fa\u548c\u7ed3\u679c"},"\u6b65\u9aa45\uff1a\u8f93\u51fa\u548c\u7ed3\u679c"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"\u8bad\u7ec3\u6a21\u578b")," \u2013 \u68c0\u67e5\u70b9\u4fdd\u5b58\u5728",(0,r.yg)("inlineCode",{parentName:"li"},"output_dir"),"\u4e2d\u3002"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"\u8bc4\u4f30\u6307\u6807")," \u2013 \u8bb0\u5f55\u5728TensorBoard\u548c\u63a7\u5236\u53f0\u4e2d\u3002"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"\u751f\u6210\u793a\u4f8b")," \u2013 \u6d41\u6c34\u7ebf\u5b9a\u671f\u8f93\u51fa\u751f\u6210\u793a\u4f8b\uff0c\u4ee5\u4fbf\u60a8\u53ef\u4ee5\u76f4\u89c2\u5730\u8bc4\u4f30\u6a21\u578b\u6539\u8fdb\u3002")),(0,r.yg)("hr",null),(0,r.yg)("p",null,(0,r.yg)("em",{parentName:"p"},"\u795d\u60a8\u5b9e\u9a8c\u6109\u5feb\uff01")))}N.isMDXComponent=!0},5680:(e,n,a)=>{a.d(n,{xA:()=>y,yg:()=>d});var l=a(6540);function r(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function i(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,l)}return a}function t(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?i(Object(a),!0).forEach(function(n){r(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function p(e,n){if(null==e)return{};var a,l,r=function(e,n){if(null==e)return{};var a,l,r={},i=Object.keys(e);for(l=0;l<i.length;l++)a=i[l],n.indexOf(a)>=0||(r[a]=e[a]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(l=0;l<i.length;l++)a=i[l],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var g=l.createContext({}),m=function(e){var n=l.useContext(g),a=n;return e&&(a="function"==typeof e?e(n):t(t({},n),e)),a},y=function(e){var n=m(e.components);return l.createElement(g.Provider,{value:n},e.children)},o="mdxType",N={inlineCode:"code",wrapper:function(e){var n=e.children;return l.createElement(l.Fragment,{},n)}},u=l.forwardRef(function(e,n){var a=e.components,r=e.mdxType,i=e.originalType,g=e.parentName,y=p(e,["components","mdxType","originalType","parentName"]),o=m(a),u=r,d=o["".concat(g,".").concat(u)]||o[u]||N[u]||i;return a?l.createElement(d,t(t({ref:n},y),{},{components:a})):l.createElement(d,t({ref:n},y))});function d(e,n){var a=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=a.length,t=new Array(i);t[0]=u;var p={};for(var g in n)hasOwnProperty.call(n,g)&&(p[g]=n[g]);p.originalType=e,p[o]="string"==typeof e?e:r,t[1]=p;for(var m=2;m<i;m++)t[m]=a[m];return l.createElement.apply(null,t)}return l.createElement.apply(null,a)}u.displayName="MDXCreateElement"}}]);