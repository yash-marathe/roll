"use strict";(globalThis.webpackChunkdocs_roll=globalThis.webpackChunkdocs_roll||[]).push([[1088],{46432:(t,e,a)=>{a.r(e),a.d(e,{default:()=>C});var s=a(96540),r=a(21389),n=a(74353),o=a.n(n),i=a(95293),l=a(98895),c=a(59522),u=a(77019),d=a(97087),p=a(548),h=a(74848);const m=({todayStat:t})=>{const{colorMode:e}=(0,i.G)(),a=o()().format("YYYY-MM-DD");return(0,h.jsx)(l.Ay,{theme:{algorithm:"dark"===e?c.A.darkAlgorithm:c.A.defaultAlgorithm},children:(0,h.jsx)("div",{style:{width:"80%",margin:"0 auto",marginTop:20},children:(0,h.jsx)(u.A,{title:`${a}\u6570\u636e\u7edf\u8ba1`,children:(0,h.jsxs)(d.A,{wrap:!0,justify:"space-between",children:[(0,h.jsx)(p.A,{title:"star\u6570",value:t?.stars}),(0,h.jsx)(p.A,{title:"fork\u6570",value:t?.forks}),(0,h.jsx)(p.A,{title:"contributors",value:t?.contributors}),(0,h.jsx)(p.A,{title:"issues\u603b\u6570",value:t?.issues?.total}),(0,h.jsx)(p.A,{title:"issues open\u6570",value:t?.issues?.open}),(0,h.jsx)(p.A,{title:"issues \u89e3\u51b3\u7387",value:`${t?.issues?.fixRate||0}%`}),(0,h.jsx)(p.A,{title:"PR\u603b\u6570",value:t?.prs?.total}),(0,h.jsx)(p.A,{title:"PR open\u6570",value:t?.prs?.open})]})})})})};var f=a(74650),y=a(3087),x=a(88090),j=a(36560),g=a(42226),b=a(74064),k=a(73416),v=a(45116),A=a(30260),Y=a(76302),T=a(5786),w=a(37739),R=a(75886),D=a(95508),M=a(28547),S=a(32592),E=a(76411);y.Y([j.a,g.a,b.a,k.a,v.a,A.a,Y.a,T.a,v.a,M._,S.i,E.a,w.a,R.a,D.a]);const O=t=>{const{option:e,className:a,style:r,onEvents:n={},onInit:o}=t,l=(0,s.useRef)(null),c=(0,s.useRef)(null),{colorMode:u}=(0,i.G)();return(0,s.useEffect)(()=>{if(!l.current)return;const t=l.current;if(0===t.clientWidth||0===t.clientHeight){const e=new ResizeObserver(t=>{for(let s of t)if(s.contentRect.width>0&&s.contentRect.height>0){a(),e.disconnect();break}});e.observe(t);const s=setTimeout(()=>{e.disconnect(),(t.clientWidth>0||t.clientHeight>0)&&a()},100);return()=>{e.disconnect(),clearTimeout(s)}}function a(){c.current&&c.current.dispose(),c.current=x.Ts(l.current,u),c.current&&(c.current.setOption(e),o&&"function"==typeof o&&o(c.current),Object.keys(n).forEach(t=>{c.current.on(t,e=>{n[t](e,c.current)})}))}a();const s=()=>{c.current&&c.current.resize()};return window.addEventListener("resize",s),()=>{Object.keys(n).forEach(t=>{c.current&&c.current.off(t)}),window.removeEventListener("resize",s),c.current&&(c.current.dispose(),c.current=null)}},[e,u]),(0,h.jsx)("div",{ref:l,className:a,style:r})};var P=a(92187);a(16033);o().locale("zh-cn");const{RangePicker:_}=f.A,z=({allStat:t})=>{const{colorMode:e}=(0,i.G)(),a=(o()().format("YYYY-MM-DD"),[o()().subtract(7,"day"),o()()]),[r,n]=(0,s.useState)(a),[d,p]=(0,s.useState)([]);return(0,s.useEffect)(()=>{if(r&&2===r.length&&r[0]&&r[1]){const e=o()(r[0]),a=o()(r[1]),s=[];let n=e.clone();for(;n.isBefore(a)||n.isSame(a);)s.push(n.format("YYYY-MM-DD")),n=n.add(1,"day");const i=s.map(e=>({date:e,...t[e]||{}})).filter(t=>t.date);p(i)}},[r,t]),(0,h.jsx)(l.Ay,{locale:P.A,theme:{algorithm:"dark"===e?c.A.darkAlgorithm:c.A.defaultAlgorithm},children:(0,h.jsxs)("div",{style:{width:"80%",margin:"0 auto",marginTop:20},children:[(0,h.jsx)(_,{defaultValue:a,onChange:t=>n(t),presets:[{label:"\u6700\u8fd17\u5929",value:[o()().subtract(7,"day"),o()()]},{label:"\u6700\u8fd130\u5929",value:[o()().subtract(30,"day"),o()()]}]}),(0,h.jsx)(u.A,{title:`${r.map(t=>t.format("YYYY-MM-DD")).join("\u2014\u2014")}\u6570\u636e\u7edf\u8ba1\u56fe`,children:(0,h.jsx)(O,{option:{tooltip:{trigger:"axis"},legend:{data:["Fork\u6570","Star\u6570","Contributors","issues\u603b\u6570","issues open\u6570","issue \u89e3\u51b3\u7387","PR\u603b\u6570","PR open\u6570"],bottom:20},xAxis:{type:"category",boundaryGap:!1,data:d.map(t=>t.date)},yAxis:{type:"value"},series:[{name:"Fork\u6570",type:"line",stack:"Total",data:d.map(t=>t.forks||0)},{name:"Star\u6570",type:"line",stack:"Total",data:d.map(t=>t.stars||0)},{name:"Contributors",type:"line",stack:"Total",data:d.map(t=>t.contributors||0)},{name:"issues\u603b\u6570",type:"line",stack:"Total",data:d.map(t=>t.issues?.total||0)},{name:"issues open\u6570",type:"line",stack:"Total",data:d.map(t=>t.issues?.open||0)},{name:"issue \u89e3\u51b3\u7387",type:"line",stack:"Total",data:d.map(t=>t.issues?.fixRate||0)},{name:"PR\u603b\u6570",type:"line",stack:"Total",data:d.map(t=>t.prs?.total||0)},{name:"PR open\u6570",type:"line",stack:"Total",data:d.map(t=>t.prs?.open||0)}]},style:{widht:"100%",height:400}})})]})})},C=()=>{const[t,e]=(0,s.useState)({}),[a,n]=(0,s.useState)({}),i=o()().format("YYYY-MM-DD");return(0,s.useEffect)(()=>{fetch("/ROLL/stats.json").then(t=>t.json()).then(t=>{e(t[i]),n(t)})},[]),(0,h.jsx)(r.A,{children:(0,h.jsx)("main",{children:(0,h.jsxs)("div",{children:[(0,h.jsx)(m,{todayStat:t}),(0,h.jsx)(z,{allStat:a}),(0,h.jsxs)("div",{style:{width:"80%",margin:"0 auto",marginTop:"20px"},children:["\u6587\u6863\u9875\u9762\u8be6\u7ec6\u7edf\u8ba1\u53ef\u4ee5\u6253\u5f00",(0,h.jsx)("a",{target:"_blank",href:"https://analytics.google.com/analytics/web/#/a375760323p513871422/reports/reportinghub?params=_u..nav%3Dmaui%26_u.dateOption%3Dyesterday%26_u.comparisonOption%3Ddisabled",children:"Google analytics"}),"\u67e5\u770b"]})]})})})}}}]);