"use strict";(globalThis.webpackChunkdocs_roll=globalThis.webpackChunkdocs_roll||[]).push([[84],{28453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>c});var r=i(96540);const s={},l=r.createContext(s);function t(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),r.createElement(l.Provider,{value:n},e.children)}},85590:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"User Guides/Pipeline/agentic_pipeline_start","title":"Agentic Pipeline","description":"Table of Contents","source":"@site/docs/User Guides/Pipeline/agentic_pipeline_start.md","sourceDirName":"User Guides/Pipeline","slug":"/User Guides/Pipeline/agentic_pipeline_start","permalink":"/ROLL/docs/User Guides/Pipeline/agentic_pipeline_start","draft":false,"unlisted":false,"editUrl":"https://github.com/alibaba/ROLL/tree/main/docs_roll/docs/User Guides/Pipeline/agentic_pipeline_start.md","tags":[],"version":"current","lastUpdatedAt":1764225914000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Comprehensive Guide: Using the Agentic Part of ROLL","permalink":"/ROLL/docs/User Guides/Pipeline/agent_pipeline_start"},"next":{"title":"Distill Pipeline","permalink":"/ROLL/docs/User Guides/Pipeline/distill_pipeline_start"}}');var s=i(74848),l=i(28453);const t={},c="Agentic Pipeline",o={},d=[{value:"\u2728\ufe0f Overview",id:"\ufe0f-overview",level:2},{value:"\u2728\ufe0f Core Components",id:"\ufe0f-core-components",level:2},{value:"Main Module (<code>AgenticPipeline</code>)",id:"main-module-agenticpipeline",level:3},{value:"Configuration File (<code>AgenticConfig</code>)",id:"configuration-file-agenticconfig",level:3},{value:"Configuration Structure and Organization",id:"configuration-structure-and-organization",level:4},{value:"\u2728\ufe0f Environment Preparation",id:"\ufe0f-environment-preparation",level:2},{value:"Environment Types",id:"environment-types",level:3},{value:"Environment Configuration",id:"environment-configuration",level:3},{value:"\u2728\ufe0f Running the Pipeline",id:"\ufe0f-running-the-pipeline",level:2},{value:"Method 1: Using Python Startup Script",id:"method-1-using-python-startup-script",level:3},{value:"Method 2: Using Helper Shell Script",id:"method-2-using-helper-shell-script",level:3},{value:"\u2728\ufe0f Step-by-Step Example",id:"\ufe0f-step-by-step-example",level:2},{value:"Step 1: Configuration Setup",id:"step-1-configuration-setup",level:3},{value:"Step 2: Environment and Dependency Preparation",id:"step-2-environment-and-dependency-preparation",level:3},{value:"Step 3: Starting the Pipeline",id:"step-3-starting-the-pipeline",level:3},{value:"Step 4: Monitoring",id:"step-4-monitoring",level:3},{value:"Step 5: Output and Results",id:"step-5-output-and-results",level:3}];function a(e){const n={a:"a",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"agentic-pipeline",children:"Agentic Pipeline"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Table of Contents"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#agentic-pipeline",children:"Agentic Pipeline"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#%EF%B8%8F-overview",children:"\u2728\ufe0f Overview"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#%EF%B8%8F-core-components",children:"\u2728\ufe0f Core Components"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsxs)(n.a,{href:"#main-module-agenticpipeline",children:["Main Module (",(0,s.jsx)(n.code,{children:"AgenticPipeline"}),")"]})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsxs)(n.a,{href:"#configuration-file-agenticconfig",children:["Configuration File (",(0,s.jsx)(n.code,{children:"AgenticConfig"}),")"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#configuration-structure-and-organization",children:"Configuration Structure and Organization"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#%EF%B8%8F-environment-preparation",children:"\u2728\ufe0f Environment Preparation"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#environment-types",children:"Environment Types"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#environment-configuration",children:"Environment Configuration"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#%EF%B8%8F-running-the-pipeline",children:"\u2728\ufe0f Running the Pipeline"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#method-1-using-python-startup-script",children:"Method 1: Using Python Startup Script"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#method-2-using-helper-shell-script",children:"Method 2: Using Helper Shell Script"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#%EF%B8%8F-step-by-step-example",children:"\u2728\ufe0f Step-by-Step Example"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#step-1-configuration-setup",children:"Step 1: Configuration Setup"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#step-2-environment-and-dependency-preparation",children:"Step 2: Environment and Dependency Preparation"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#step-3-starting-the-pipeline",children:"Step 3: Starting the Pipeline"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#step-4-monitoring",children:"Step 4: Monitoring"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#step-5-output-and-results",children:"Step 5: Output and Results"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\ufe0f-overview",children:"\u2728\ufe0f Overview"}),"\n",(0,s.jsx)(n.p,{children:"Agentic Pipeline is ROLL's core pipeline for agent training, supporting multiple algorithms such as PPO, GRPO, and more. It provides the following core advantages:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Gym-like Environment Definition"}),": Supports various environment types, including FrozenLake, Sokoban, etc., and can easily extend custom environments through gym-like interfaces."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Rich Learning Granularity"}),": Supports TrajectoryWise form (StarPO) and StepWise (GiGPO) training forms."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Asynchronous Parallel Rollout at Environment Granularity"}),": Independent trajectory sampling across environments improves sampling efficiency."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Asynchronous Training"}),": Decoupling of rollout/training supports asynchronous training."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Multi-turn Interaction Support for Local Debugging"}),": Multi-turn interaction rollout supports local debugging, improving development efficiency for multi-turn interaction business."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Flexible Policy Configuration"}),": Supports multiple distributed training strategies such as Megatron, DeepSpeed, vLLM, etc., allowing flexible configuration based on hardware resources."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\ufe0f-core-components",children:"\u2728\ufe0f Core Components"}),"\n",(0,s.jsxs)(n.h3,{id:"main-module-agenticpipeline",children:["Main Module (",(0,s.jsx)(n.code,{children:"AgenticPipeline"}),")"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"AgenticPipeline"})," (located at ",(0,s.jsx)(n.code,{children:"roll/pipeline/agentic/agentic_pipeline.py"}),") is the main process for the entire agent training. It manages the complete training workflow, including:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Initializing and managing distributed worker processes (Actor, Critic, Reference, etc.)."}),"\n",(0,s.jsx)(n.li,{children:"Coordinating environment interaction and data collection."}),"\n",(0,s.jsx)(n.li,{children:"Executing model training steps."}),"\n",(0,s.jsx)(n.li,{children:"Handling checkpoint saving."}),"\n",(0,s.jsx)(n.li,{children:"Recording metrics and experiment tracking."}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Source Code"}),": ",(0,s.jsx)(n.code,{children:"roll/pipeline/agentic/agentic_pipeline.py"})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.h3,{id:"configuration-file-agenticconfig",children:["Configuration File (",(0,s.jsx)(n.code,{children:"AgenticConfig"}),")"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"AgenticConfig"})," (defined in ",(0,s.jsx)(n.code,{children:"roll/pipeline/agentic/agentic_config.py"}),") is a configuration object based on Pydantic/dataclass used to specify all parameters for running AgenticPipeline. This configuration system supports YAML file configuration and uses the Hydra framework for management."]}),"\n",(0,s.jsxs)(n.p,{children:["For configuration system description, see ",(0,s.jsx)(n.a,{href:"/ROLL/docs/User%20Guides/Configuration/config_system",children:"config_system"})]}),"\n",(0,s.jsx)(n.h4,{id:"configuration-structure-and-organization",children:"Configuration Structure and Organization"}),"\n",(0,s.jsxs)(n.p,{children:["Configuration files (such as ",(0,s.jsx)(n.code,{children:"examples/qwen2.5-0.5B-agentic/agent_val_frozen_lake.yaml"}),") are organized by functional modules and mainly include the following sections:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Basic Experiment Settings"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"exp_name"}),": Experiment name, used to identify a specific training task"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"seed"}),": Random seed to ensure reproducible experiments"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"logging_dir"}),": Path to save log files"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"output_dir"}),": Path to save model checkpoints and output files"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"render_save_dir"}),": Path to save rendered frames (for environment visualization)"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Training Control Parameters"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"max_steps"}),": Maximum training steps"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"save_steps"}),": Frequency of saving model checkpoints"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"logging_steps"}),": Frequency of recording training metrics"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"eval_steps"}),": Frequency of performing validation evaluation"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"resume_from_checkpoint"}),": Whether to resume training from a checkpoint. To continue training, set to its path; otherwise, set to ",(0,s.jsx)(n.code,{children:"False"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Model Configuration"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"pretrain"}),": Pretrained model path"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"reward_pretrain"}),": Reward model pretrained weights path"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Algorithm Parameters"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"adv_estimator"}),": Advantage estimator type (such as ",(0,s.jsx)(n.code,{children:"gae"}),", ",(0,s.jsx)(n.code,{children:"grpo"}),", ",(0,s.jsx)(n.code,{children:"reinforce"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ppo_epochs"}),": Number of optimization epochs per sample batch"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"gamma"}),": Discount factor for calculating returns"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"lambd"}),": Lambda parameter in GAE"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"pg_clip"}),": Clipping range for PPO policy gradient loss"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"init_kl_coef"}),": Initial coefficient for KL penalty"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"target_kl"}),": Target KL value for adaptive KL control"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"whiten_advantages"}),": Whether to whiten advantages"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"entropy_loss_coef"}),": Coefficient for entropy loss"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Worker Process Configuration"}),"\nEach worker process (",(0,s.jsx)(n.code,{children:"actor_train"}),", ",(0,s.jsx)(n.code,{children:"actor_infer"}),", ",(0,s.jsx)(n.code,{children:"critic"}),", ",(0,s.jsx)(n.code,{children:"reference"}),") configuration includes:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Model Parameters"})," (",(0,s.jsx)(n.code,{children:"model_args"}),")","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"model_type"}),": Model type (such as ",(0,s.jsx)(n.code,{children:"causal_lm"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"dtype"}),": Computation precision (such as ",(0,s.jsx)(n.code,{children:"bf16"}),", ",(0,s.jsx)(n.code,{children:"fp16"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"attn_implementation"}),": Attention implementation (such as ",(0,s.jsx)(n.code,{children:"fa2"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"disable_gradient_checkpointing"}),": Whether to disable gradient checkpointing"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Training Parameters"})," (",(0,s.jsx)(n.code,{children:"training_args"}),")","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"learning_rate"}),": Learning rate"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"per_device_train_batch_size"}),": Training batch size per device"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"gradient_accumulation_steps"}),": Gradient accumulation steps"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"weight_decay"}),": Weight decay coefficient"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"warmup_steps"}),": Learning rate warmup steps"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"lr_scheduler_type"}),": Learning rate scheduler type"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Generation Parameters"})," (",(0,s.jsx)(n.code,{children:"generating_args"}),")","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"max_new_tokens"}),": Maximum new tokens to generate"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"top_p"}),": Nucleus sampling parameter"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"temperature"}),": Temperature parameter"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"num_return_sequences"}),": Number of return sequences"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Distributed Strategy"})," (",(0,s.jsx)(n.code,{children:"strategy_args"}),")","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"strategy_name"}),": Distributed strategy used (such as ",(0,s.jsx)(n.code,{children:"megatron_train"}),", ",(0,s.jsx)(n.code,{children:"vllm"}),", ",(0,s.jsx)(n.code,{children:"hf_infer"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:["Strategy-specific parameters: such as ",(0,s.jsx)(n.code,{children:"tp_size"})," (tensor parallel size), ",(0,s.jsx)(n.code,{children:"pp_size"})," (pipeline parallel size)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"gpu_memory_utilization"}),": GPU memory utilization (specific to vLLM)"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Device Mapping"})," (",(0,s.jsx)(n.code,{children:"device_mapping"}),")","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Specifies which GPU devices the worker process should use"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Environment Manager Configuration"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"train_env_manager"}),": Training environment manager configuration"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"val_env_manager"}),": Validation environment manager configuration"]}),"\n",(0,s.jsxs)(n.li,{children:["Environment-related parameters:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"num_env_groups"}),": Number of environment groups"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"group_size"}),": Number of environments per group"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"tags"}),": List of environment tags"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"num_groups_partition"}),": Group allocation for each environment type"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"max_env_num_per_worker"}),": Maximum number of environments per worker"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\ufe0f-environment-preparation",children:"\u2728\ufe0f Environment Preparation"}),"\n",(0,s.jsx)(n.h3,{id:"environment-types",children:"Environment Types"}),"\n",(0,s.jsx)(n.p,{children:"Agentic Pipeline supports various environment types, including but not limited to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"FrozenLake"}),": Classic reinforcement learning environment where the agent needs to find a path to the goal on ice."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Sokoban"}),": Box-pushing game environment where the agent needs to push boxes to designated positions."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"WebShop"}),": Simulated online shopping environment where the agent needs to find suitable products based on user requirements."]}),"\n",(0,s.jsx)(n.li,{children:"More environment support..."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"environment-configuration",children:"Environment Configuration"}),"\n",(0,s.jsxs)(n.p,{children:["In the configuration file, custom environments are defined through the ",(0,s.jsx)(n.code,{children:"custom_envs"})," field. Each environment configuration includes:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"env_type"}),": Environment type"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"env_config"}),": Specific environment configuration parameters"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"max_tokens_per_step"}),": Maximum tokens per step"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\ufe0f-running-the-pipeline",children:"\u2728\ufe0f Running the Pipeline"}),"\n",(0,s.jsx)(n.h3,{id:"method-1-using-python-startup-script",children:"Method 1: Using Python Startup Script"}),"\n",(0,s.jsxs)(n.p,{children:["The main method is to use the ",(0,s.jsx)(n.code,{children:"examples/start_agentic_pipeline.py"})," script. This script uses Hydra to load and manage configurations."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Select or Create a Configuration File"}),(0,s.jsx)(n.br,{}),"\n","Start with example YAML (such as ",(0,s.jsx)(n.code,{children:"examples/qwen2.5-0.5B-agentic/agent_val_frozen_lake.yaml"}),") or create your own configuration."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Execute the Python Startup Script"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Make sure you are in the ROLL project root directory\n# export PYTHONPATH=$(pwd):$PYTHONPATH\n\npython examples/start_agentic_pipeline.py \\\n       --config_path examples/qwen2.5-0.5B-agentic \\\n       --config_name agent_val_frozen_lake\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"--config_path"})," \u2013 Directory containing the YAML configuration."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"--config_name"})," \u2013 File name (without ",(0,s.jsx)(n.code,{children:".yaml"}),")."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"method-2-using-helper-shell-script",children:"Method 2: Using Helper Shell Script"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"examples"})," directory typically contains shell scripts that wrap the Python launcher."]}),"\n",(0,s.jsx)(n.p,{children:"Example structure:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"#!/bin/bash\n# Example: examples/qwen2.5-0.5B-agentic/run_agentic_pipeline_frozen_lake.sh\n\nCONFIG_PATH=$(basename $(dirname $0))\npython examples/start_agentic_pipeline.py \\\n       --config_path $CONFIG_PATH \\\n       --config_name agent_val_frozen_lake\n"})}),"\n",(0,s.jsx)(n.p,{children:"Running method:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"bash examples/qwen2.5-0.5B-agentic/run_agentic_pipeline_frozen_lake.sh\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\ufe0f-step-by-step-example",children:"\u2728\ufe0f Step-by-Step Example"}),"\n",(0,s.jsx)(n.h3,{id:"step-1-configuration-setup",children:"Step 1: Configuration Setup"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["File: ",(0,s.jsx)(n.code,{children:"examples/qwen2.5-0.5B-agentic/agent_val_frozen_lake.yaml"}),(0,s.jsx)(n.br,{}),"\n","Key sections include ",(0,s.jsx)(n.code,{children:"exp_name"}),", ",(0,s.jsx)(n.code,{children:"seed"}),", ",(0,s.jsx)(n.code,{children:"output_dir"}),", model paths, and worker process configurations."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Pay special attention to these configuration sections:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Model configuration: ",(0,s.jsx)(n.code,{children:"pretrain"})," path"]}),"\n",(0,s.jsxs)(n.li,{children:["Algorithm parameters: ",(0,s.jsx)(n.code,{children:"adv_estimator"}),", ",(0,s.jsx)(n.code,{children:"ppo_epochs"}),", etc."]}),"\n",(0,s.jsxs)(n.li,{children:["Distributed strategy: ",(0,s.jsx)(n.code,{children:"strategy_args"})," and ",(0,s.jsx)(n.code,{children:"device_mapping"})," for each worker process"]}),"\n",(0,s.jsxs)(n.li,{children:["Environment configuration: ",(0,s.jsx)(n.code,{children:"train_env_manager"})," and ",(0,s.jsx)(n.code,{children:"val_env_manager"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"step-2-environment-and-dependency-preparation",children:"Step 2: Environment and Dependency Preparation"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Ensure all necessary dependencies are installed, it's recommended to start from ",(0,s.jsx)(n.a,{href:"/ROLL/docs/Getting%20Started/Installation/",children:"image launch"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pip install -r requirements.txt\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Confirm all model paths in the configuration are accessible."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Prepare the training environment and ensure support for the selected environment types."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"step-3-starting-the-pipeline",children:"Step 3: Starting the Pipeline"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"python examples/start_agentic_pipeline.py \\\n       --config_path examples/qwen2.5-0.5B-agentic \\\n       --config_name agent_val_frozen_lake\n"})}),"\n",(0,s.jsx)(n.h3,{id:"step-4-monitoring",children:"Step 4: Monitoring"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Console Output"})," \u2013 Observe Hydra, Ray, and Pipeline logs."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Log Files"})," \u2013 Check the ",(0,s.jsx)(n.code,{children:"logging_dir"})," specified in the YAML."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"TensorBoard"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"tensorboard --logdir <your_log_dir>\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"step-5-output-and-results",children:"Step 5: Output and Results"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Trained Model"})," \u2013 Checkpoints are saved in ",(0,s.jsx)(n.code,{children:"checkpoint_config"}),", refer to documentation ",(0,s.jsx)(n.a,{href:"/ROLL/docs/User%20Guides/Advanced%20Features/checkpoint_and_resume",children:"checkpoint_and_resume"})," for details."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Evaluation Metrics"})," \u2013 Recorded in TensorBoard and terminal."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Rendered Frames"})," \u2013 If ",(0,s.jsx)(n.code,{children:"render_save_dir"})," is configured, environment rendered frames will be saved in that directory, facilitating visualization of the interaction process."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Happy experimenting!"})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}}}]);